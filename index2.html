<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NGO Website - Login</title>
  <meta name="description"
    content="Our NGO website helps communities in need through education, health, and empowerment. Join us and be the reason someone smiles today." />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="index2.css" />
</head>

<body>
  <div class="login d-flex flex-wrap">
    <!-- Left section -->
    <div class="left text-white d-flex flex-column justify-content-center align-items-start p-5 col-lg-6 col-12">
      <blockquote class="display-6 fw-semibold">
        Your journey of kindness <br> continues here!
      </blockquote>
    </div>

    <!-- Right section -->
    <div class="container col-lg-6 col-12 d-flex flex-column justify-content-center align-items-center py-5">
      <form id="loginform" class="w-100 px-4 py-3 bg-white rounded-4 shadow-sm" style="max-width: 400px;">
        <h4 class="text-center fw-bold mb-4 log">Login</h4>

        <div class="mb-3">
          <input type="email" id="email" class="form-control border-0 border-bottom" placeholder="Email Address" />
        </div>

        <div class="mb-3">
          <input type="password" id="password" class="form-control border-0 border-bottom" placeholder="Password" />
        </div>

        <div class="d-flex justify-content-between align-items-center mb-4">
          <div>
            <input type="checkbox" id="remember" class="me-1" />
            <label for="remember" class="small text-muted">Remember Me</label>
          </div>
          <a href="forget.html" class="small text-decoration-none text-secondary">Forget Password?</a>
        </div>

        <button type="submit" class="btn btn-success w-100 rounded-pill py-2 logn">Sign In</button>

        <p class="text-center mt-4 text-muted">
          Don't have an account?
          <a href="donate.html" class="text-decoration-none text-primary fw-semibold">Sign Up</a>
        </p>
      </form>
    </div>
  </div>

  <!-- Supabase -->
  <script type="module">
    import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";
    const supabaseUrl = "https://knnmbmzabhjganxkqluc.supabase.co";
    const supabaseKey =
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtubm1ibXphYmhqZ2FueGtxbHVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNTI4ODAsImV4cCI6MjA3NzkyODg4MH0.PsibY_QDVglge_Mys4M-K7TofdHbdVJR437WN2ohkZw";
    const supabase = createClient(supabaseUrl, supabaseKey);

    const loginForm = document.getElementById("loginform");

    loginForm.addEventListener("submit", async (e) => {
      e.preventDefault();

      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();

      if (!email || !password) {
        alert("Please enter both email and password");
        return;
      }

      const { data, error } = await supabase
        .from("users")
        .select("*")
        .eq("email", email)
        .eq("password", password)
        .single();

      if (error || !data) {
        alert("Invalid email or password");
      } else {
        alert("Login successful!");
        window.location.href = "index.html";
      }
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
