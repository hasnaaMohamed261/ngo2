<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NGO Website | Forget Password</title>
  <meta name="description" content="Reset your NGO website account password securely through Supabase.">
  <link rel="stylesheet" href="forget.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
  <div class="con">
    <div class="left">
      <img src="images/No data Customizable Cartoon Illustrations _ Bro Style.jpeg" alt="Reset illustration">
    </div>

    <div class="rig">
      <h1>Reset your Password</h1>
      <p>The verification link will be sent to your email. Please check your inbox.</p>

      <div class="code">
        <label class="mb-2">Email<br>
          <input type="email" id="email" class="cod" placeholder="Enter your email" required>
        </label>
      </div>

      <button class="send" id="resetBtn">Send Reset Link</button>

      <p id="message" class="pt-3"></p>

      <div class="back">
        <a href="index2.html" class="login">Back to Login</a>
      </div>
    </div>
  </div>

  <script>
    // Initialize Supabase
    const supabaseUrl = "https://knnmbmzabhjganxkqluc.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtubm1ibXphYmhqZ2FueGtxbHVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNTI4ODAsImV4cCI6MjA3NzkyODg4MH0.PsibY_QDVglge_Mys4M-K7TofdHbdVJR437WN2ohkZw";
    const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

    document.getElementById("resetBtn").addEventListener("click", async () => {
      const email = document.getElementById("email").value.trim();
      const messageEl = document.getElementById("message");

      if (!email) {
        messageEl.textContent = "Please enter your email.";
        messageEl.style.color = "red";
        return;
      }

      const { error } = await supabase.auth.resetPasswordForEmail(email, {
        redirectTo: window.location.origin + "/update-password.html",
      });

      if (error) {
        messageEl.textContent = "Error: " + error.message;
        messageEl.style.color = "red";
      } else {
        messageEl.textContent = "A password reset link has been sent to your email.";
        messageEl.style.color = "green";
      }
    });
  </script>
</body>
</html> -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NGO Website | Forget Password</title>
  <meta name="description" content="Reset your NGO account password securely through Supabase.">
  <link rel="stylesheet" href="forget.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
  <div class="container-fluid min-vh-100 d-flex flex-column flex-lg-row align-items-center justify-content-center bg-light">

    <!-- Left image section -->
    <div class="col-lg-6 d-none d-lg-flex justify-content-center align-items-center p-4">
      <img src="images/No data Customizable Cartoon Illustrations _ Bro Style.jpeg"
           alt="Reset illustration" class="img-fluid rounded-4 shadow-sm" style="max-height: 80vh;">
    </div>

    <!-- Right form section -->
    <div class="col-lg-5 col-11 bg-white rounded-4 shadow p-5 text-center">
      <h2 class="fw-bold mb-3 text-success">Reset your Password</h2>
      <p class="text-muted mb-4">We'll send a verification link to your email. Please check your inbox.</p>

      <div class="mb-3 text-start">
        <label for="email" class="form-label fw-semibold">Email Address</label>
        <input type="email" id="email" class="form-control form-control-lg border-success-subtle" placeholder="Enter your email" required>
      </div>

      <button class="btn btn-success w-50 py-2 rounded-pill fw-semibold mt-3" id="resetBtn">
        <i class="fa-solid fa-paper-plane me-2"></i>Send Reset Link
      </button>

      <p id="message" class="pt-3 fw-semibold"></p>

      <div class="mt-4">
        <a href="index2.html" class="text-decoration-none text-secondary fw-semibold">
          <i class="fa-solid fa-arrow-left me-1"></i> Back to Login
        </a>
      </div>
    </div>
  </div>

  <script>
    // Initialize Supabase
    const supabaseUrl = "https://knnmbmzabhjganxkqluc.supabase.co";
    const supabaseKey =
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtubm1ibXphYmhqZ2FueGtxbHVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNTI4ODAsImV4cCI6MjA3NzkyODg4MH0.PsibY_QDVglge_Mys4M-K7TofdHbdVJR437WN2ohkZw";
    const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

    document.getElementById("resetBtn").addEventListener("click", async () => {
      const email = document.getElementById("email").value.trim();
      const messageEl = document.getElementById("message");

      if (!email) {
        messageEl.textContent = "Please enter your email.";
        messageEl.style.color = "red";
        return;
      }

      const { error } = await supabase.auth.resetPasswordForEmail(email, {
        redirectTo: window.location.origin + "https://hasnaa261.netlify.app/update-password.html",
      });

      if (error) {
        messageEl.textContent = "Error: " + error.message;
        messageEl.style.color = "red";
      } else {
        messageEl.textContent = "âœ… A password reset link has been sent to your email.";
        messageEl.style.color = "green";
      }
    });
  </script>
</body>
</html>

